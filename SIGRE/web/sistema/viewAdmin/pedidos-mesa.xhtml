<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <body>

        <ui:composition template="./template-admin.xhtml">

            <ui:define name="content">
                <!--<p:commandButton image="mesa" icon="dolar-icon"/>-->
                <!--<h:graphicImage name="imagens/mesas.png"  value="mesa 1"/>-->
                <div align="center">
                    <h:panelGrid columns="5" cellspacing="15" 
                                 styleClass="#{mesa.status eq 'LIVRE' ? 'green' : mesa.status eq 'OCUPADA' ? 'red': null}">
                        <p:column>
                            <h:panelGrid columns="1" class="mesa" >
                                <p:commandLink oncomplete="PF('teste').show()" actionListener="#{pedidoMB.fecharMesa()}">
                                    <h:graphicImage name="imagens/mesas2.png" value="#{mesaMB.mesa.id(1)}" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1" class="mesa">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1" class="mesa">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png"/>
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink>
                                    <h:graphicImage name="imagens/mesas2.png" />
                                </p:commandLink>
                            </h:panelGrid>
                        </p:column>
<!--                        <p:column>
                            <h:panelGrid columns="1">
                                <h:outputText value="Cidade:" />
                                <p:selectOneMenu 
                                    id="cidade"  value="" requiredMessage="Escolha uma cidade" required = "true">
                                    <f:selectItem itemLabel="Selecione"/>
                                    <f:selectItems value="{cidadeMB.listaCidade}" 
                                                   var ="cidade"
                                                   itemLabel="{cidade.nome}"
                                                   itemValue="{cidade}"/>
                                </p:selectOneMenu> 
                            </h:panelGrid> 
                        </p:column>  -->
                    </h:panelGrid>
                </div>
                <p:dialog header="Teste" widgetVar="teste" modal="true" height="auto" width="50%">
                     <p:dataTable id="tabelaItensPedido" value="#{pedidoMB.listaItensPedidos}" 
                                 reflow="true" rows="5" paginator="true" var="itens">
                        <f:facet name="header">
                            Lista de Pedidos    
                        </f:facet>
                        <p:column headerText="Produto" sortBy="#{itens.produto.nome}">
                            <h:outputText value="#{itens.produto.nome}"/>
                        </p:column>
                        <p:column headerText="Quantidade" sortBy="#{itens.quantidade}">
                            <h:outputText value="#{itens.quantidade}" />
                        </p:column>
                        <p:column headerText="Valor Unitário" sortBy="#{itens.produto.valorVenda}">
                            <h:outputText value="#{itens.produto.valorVenda}" />
                        </p:column>
                        <p:column headerText="Valor Total" sortBy="#{itens.valorTotal}">
                            <h:outputText value="#{itens.valorTotal}" />
                        </p:column>
                        <p:column headerText="Estoque" sortBy="#{itens.produto.quantidadeEstoque}">
                            <h:outputText value="#{itens.produto.quantidadeEstoque}" />
                        </p:column>
                        <p:column headerText="Ações">
                            <p:commandButton value="Alterar" oncomplete="PF('dialogPedido').show()"
                                             update=":formFormularioPedidos">
                                <f:setPropertyActionListener value="#{itens}" target="#{pedidoMB.pedido}"/>
                            </p:commandButton>    
                        </p:column>

                    </p:dataTable>

                </p:dialog>
            </ui:define>

        </ui:composition>

    </body>
</html>
