<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <body>

        <ui:composition template="./template-admin.xhtml">

            <ui:define name="content">
                <!--<p:commandButton image="mesa" icon="dolar-icon"/>-->
                <!--<h:graphicImage name="imagens/mesas.png"  value="mesa 1"/>-->
                <div align="center">
                    <h:panelGrid columns="5" cellspacing="15" 
                                 styleClass="#{mesa.status eq 'LIVRE' ? 'green' 
                                               : mesa.status eq 'OCUPADA' ? 'red': null}">
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(1)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 1</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(2)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 2</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(3)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 3</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(4)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 4</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(5)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 5</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(6)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 6</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(7)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 7</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(8)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 8</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(9)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 9</h1>
                            </h:panelGrid>
                        </p:column>
                        <p:column>
                            <h:panelGrid columns="1">
                                <p:commandLink oncomplete="PF('teste').show()"
                                               update="dialogFormMostrarPedido"
                                               actionListener="#{pedidoMB.abrirMesa(10)}">
                                    <h:graphicImage name="imagens/mesas2.png" class="mesa"/>
                                </p:commandLink>
                                <h1 class="num_mesas" >MESA 10</h1>
                            </h:panelGrid>
                        </p:column>
                    </h:panelGrid>
                </div>
                <p:dialog header="Teste" widgetVar="teste" modal="true" height="auto" width="50%">
                    <h:form id="dialogFormMostrarPedido">
                        <p:dataTable id="tabelaItensPedido" value="#{pedidoMB.listaItensPedidosMesa}"
                                     reflow="true" rows="5" paginator="true" var="itens" paginatorPosition="bottom">
                            <p:column headerText="Produto" sortBy="#{itens.produto}">
                                <h:outputText value="#{itens.produto.nome}"/>
                            </p:column>


                            <p:column headerText="Ações">
                                <p:commandButton value="Alterar">

                                </p:commandButton>
                                <p:commandButton value="Excluir" icon="ui-icon-trash" update="@form"
                                                 actionListener="#{pedidoMB.removerItem(itens)}" >
                                    <p:confirm header="Confirmação" message="Deseja realmente excluir?" icon="ui-icon-alert" />
                                </p:commandButton>
                            </p:column>
                        </p:dataTable>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                            <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>
                        <p:commandButton value="Fechar Mesa " 
                                         actionListener="#{pedidoMB.fecharMesa()}" oncomplete="PF('teste').hide()"/>
                    </h:form>
                </p:dialog>
            </ui:define>

        </ui:composition>

    </body>
</html>
